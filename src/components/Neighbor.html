{{#if neighbors}}
<li>
  <div class="form-group form-group-sm">
    <label id="state_label"
        class="controls label label-default"
        for="nb_select">neighbors</label>
    <select id="nb_select"
        class="btn btn-default"
        type="list"
        bind:value="neighbor"
        on:click='fire( "select" )'
    >
    {{#each neighbors as nb, i}}
      {{#if i === 0}}
      <option selected>{{nb.type}}</option>
      {{else}}
      <option>{{nb.type}}</option>
      {{/if}}
    {{/each}}
    </select>
  </div>
  <span>{{neighbor}} of {{neighbors.length}}</span>
</li>
{{#each neighbors as nb}}
  {{#if nb.type === neighbor}}
  <li>
    <Radius radii="{{nb.radius}}"/>
  </li>
  {{/if}}
{{/each}}
{{/if}}
<script>
import { has } from 'lodash-es'

import Radius from './Radius.html'

export default {
  oncreate () {
    this.observe('neighbor', (v) => {
      console.log(`neighbor: [${v}] selected`)
    }, { init: false, defer: true })
    console.log(this.get('neighbors'))
    this.set({ neighbor: this.get('neighbors')[0].type})
    this.on('select', event => {
      console.log(event)
      console.log(`neighbor: select event ${event} happened`)
    })
  },
  components: {
    Radius
  }
}
</script>